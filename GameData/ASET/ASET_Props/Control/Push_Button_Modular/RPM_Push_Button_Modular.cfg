@PROP:HAS[#ASET_PropType[Push_Button_Modular]]:NEEDS[RasterPropMonitor]
{
	// Collider (every one of these shares the same collider)
  	MODEL
	{
		model = ASET/ASET_Props/Control/Push_Button_Modular/models/pb_Collider
	}

	// Action handler
	%MODULE[JSIActionGroupSwitch]
	{
		switchTransform = pb_Collider
		switchSound = 
		actionName = #$/actionName$
	}

	// Animation & Sound
	&perPodPersistenceName = 
	MODULE
	{
		name = JSIActionGroupSwitch
		animationName = pb_PushAnim
		switchTransform = pb_Collider
		customSpeed = 1.5
		actionName = dummy
		perPodPersistenceName = #$/perPodPersistenceName$
		momentarySwitch = true
		switchSound = ASET/ASET_Props/Sounds/pb_Push02
		switchSoundVolume = 2.0
	}

	// Color Animation
	MODULE
	{
		name = JSICallbackAnimator
		variableName = #$/stateVariableName$

 		VARIABLESET
		{
			coloredObject = pb_Full_LensON_Obj
			passiveColor = 0,0,0,255
			activeColor = #$/activeColor$
			scale = 0.5,1.1
		}		
		VARIABLESET
		{
			controlledTransform = pb_Full_Lens_Obj
			localTranslationStart = 0.0,0.0,0.0
			localTranslationEnd  = 0.0,-0.0003,0.0
			scale = 0.5,1.1
		}
		VARIABLESET
		{
			controlledTransform = pb_Full_LensON_Obj
			localTranslationStart = 0.0,0.0,0.0
			localTranslationEnd  = 0.0,0.0003,0.0
			scale = 0.5,1.1
		}
	}

	// Legend Text
	MODULE
	{
		name = JSILabel		
		transformName = Legend_Center
		alignment = Center
		anchor = MiddleCenter
		fontName = InconsolataGo-Bold
		fontSize = 7.0
		zeroColor = COLOR_ASET_mpb_BLACK
		labelText = #$/legendText$
	}

	// Backlight
	MODULE
	{
		name = JSICallbackAnimator
		variableName = CUSTOM_ALCOR_BACKLIGHT_ON
		
		VARIABLESET
		{
			controlledTransform  = pb_Full_Lens_Obj
			textureLayers  = _Emissive
			textureShiftStart = 0,0
			textureShiftEnd  = -0.5,0
			scale = 0.5,1.1
		}

 		VARIABLESET
		{
			coloredObject = pb_Full_Lens_Obj
			passiveColor = 0,0,0,255
			activeColor = #$/backlightColor$
			scale = 0.5,1.1
		}
	}
}

// Panel Text
@PROP:HAS[#ASET_PropType[Push_Button_Modular]&#panelText]:NEEDS[RasterPropMonitor]
{
	MODULE
	{
		name = JSILabel		
		transformName = PanelTextTop
		alignment = Center
		anchor = LowerCenter
		fontName = InconsolataGo-Bold
		fontSize = 7
		variableName = CUSTOM_ALCOR_BACKLIGHT_ON
		emissive = active 
		positiveColor = COLOR_ASET_SWITCHER_NAME_POSITIVECOLOR
		zeroColor = COLOR_ASET_SWITCHER_NAME_ZEROCOLOR
		negativeColor = COLOR_ASET_SWITCHER_NAME_NEGATIVECOLOR
		labelText = #$/panelText$
	}
}